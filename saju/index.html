<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>?ъ＜???/title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@400;600;800;900&display=swap');

    :root{
      --bg1:#fff6fb;
      --bg2:#f3fbff;
      --card:#ffffffcc;
      --border:#ffd7ea;
      --text:#2a2a2a;
      --muted:#6b6b6b;
      --pink:#ff7fb2;
      --pink2:#ff9fc6;
      --mint:#7de3d0;
      --shadow: 0 18px 45px rgba(255, 127, 178, 0.15);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: ui-rounded, system-ui, -apple-system, "Segoe UI", Roboto, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 500px at 10% 0%, #ffe8f3 0%, rgba(255,232,243,0) 60%),
        radial-gradient(800px 500px at 100% 20%, #e6fbff 0%, rgba(230,251,255,0) 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .wrap{ width:100%; max-width: 920px; padding: 0 16px; }

    .card{
      background:var(--card);
      backdrop-filter: blur(10px);
      border: 2px solid var(--border);
      border-radius: 26px;
      padding: 30px;
      box-shadow: var(--shadow);
      position: relative;
      overflow:hidden;
      max-width: 820px;
      margin: 0 auto;
      animation: popIn 420ms cubic-bezier(.2,.9,.2,1) both;
    }

    @keyframes popIn {
      from { transform: translateY(10px) scale(0.98); opacity: 0; }
      to   { transform: translateY(0) scale(1); opacity: 1; }
    }

    .header{ display:flex; gap:14px; align-items:center; margin-bottom: 14px; }

    .badge{
      width: 68px;
      height: 68px;
      border-radius: 22px;
      background: linear-gradient(135deg, rgba(255,127,178,0.35), rgba(125,227,208,0.25));
      border: 2px solid rgba(255,127,178,0.30);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 10px 24px rgba(0,0,0,0.05);
      overflow: hidden;
      font-family: 'Jua', system-ui;
      font-size: 26px;
    }

    h1{ 
      margin:0; 
      font-size: 34px; 
      letter-spacing:-0.6px;
      font-family: 'Jua', ui-rounded, system-ui, -apple-system, "Segoe UI", Roboto, "Apple SD Gothic Neo", "Noto Sans KR", sans-serif;
    }

    .sub{ 
      margin:4px 0 0; 
      color:var(--muted); 
      font-size: 16px; 
      font-weight: 800;
      letter-spacing:-0.25px;
      font-family: "Noto Sans KR", ui-rounded, system-ui, sans-serif;
    }

    .grid{ display:grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-top: 18px; }
    @media (max-width: 760px){ .grid{ grid-template-columns: 1fr; } }

    label{ display:block; font-weight: 900; letter-spacing:-0.2px; margin-bottom: 6px; color:#7a2450; }

    .field{
      background: rgba(255,255,255,0.8);
      border: 2px solid rgba(255,127,178,0.22);
      border-radius: 16px;
      padding: 12px 12px;
      display:flex;
      gap:10px;
      align-items:center;
    }

    input, select{
      width:100%;
      border:0;
      outline:0;
      background: transparent;
      font-size: 15px;
      font-weight: 700;
      color: var(--text);
      font-family: "Noto Sans KR", ui-rounded, system-ui, sans-serif;
    }

    .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-top: 16px; }

    button{
      cursor:pointer;
      border:0;
      border-radius: 16px;
      padding: 12px 14px;
      font-weight: 900;
      letter-spacing:-0.2px;
      font-family: "Noto Sans KR", ui-rounded, system-ui, sans-serif;
    }

    .primary{
      background: linear-gradient(135deg, var(--pink), var(--pink2));
      color: #fff;
      box-shadow: 0 14px 26px rgba(255,127,178,0.28);
    }

    .ghost{
      background: rgba(255,255,255,0.75);
      border: 2px dashed rgba(255,127,178,0.35);
      color: var(--text);
    }

    .ghost:disabled{ opacity:0.55; cursor:not-allowed; }

    .status{ font-size: 13px; color: var(--muted); }

    .bubble{
      display:inline-block;
      background: rgba(255,255,255,0.9);
      border: 2px solid rgba(255,127,178,0.22);
      border-radius: 999px;
      padding: 6px 10px;
      font-size: 12.5px;
      color: #7a2450;
      font-family: "Noto Sans KR", ui-rounded, system-ui, sans-serif;
    }

    .result{
      margin-top: 18px;
      padding: 16px;
      border-radius: 18px;
      background: rgba(255,255,255,0.75);
      border: 2px solid rgba(125,227,208,0.25);
    }

    .result h2{
      margin: 0 0 10px;
      font-size: 18px;
      letter-spacing:-0.25px;
      font-family: "Noto Sans KR", ui-rounded, system-ui, sans-serif;
    }

    .pillRow{ display:flex; gap:8px; flex-wrap:wrap; }

    .pill{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(255,255,255,0.92);
      border: 2px solid rgba(255,127,178,0.22);
      box-shadow: 0 10px 18px rgba(0,0,0,0.05);
      font-size: 13.5px;
      color:#7a2450;
      font-weight: 900;
      font-family: "Noto Sans KR", ui-rounded, system-ui, sans-serif;
    }

    .pill:before{
      content:"";
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: rgba(125,227,208,0.70);
      margin-right: 8px;
    }

    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      background: rgba(255,127,178,0.12);
      padding: 3px 8px;
      border-radius: 10px;
      border: 1px solid rgba(255,127,178,0.22);
      color: #7a2450;
    }

    .small{ font-size: 12.5px; color: var(--muted); line-height:1.45; }

    .table{
      margin-top: 12px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    .box{
      border-radius: 16px;
      background: rgba(255,255,255,0.85);
      border: 2px solid rgba(255,127,178,0.18);
      padding: 12px;
    }

    .boxTitle{ font-weight: 1000; color:#7a2450; margin-bottom: 6px; }
    .box p{ margin:0; color:#2a2a2a; line-height:1.6; }
  </style>
  <style>
    .top-nav{
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 10000;
      display: flex;
      gap: 8px;
      padding: 12px 18px;
      background: rgba(255,255,255,0.85);
      backdrop-filter: blur(10px);
      border-bottom: 2px solid rgba(0,0,0,0.08);
    }
    .top-nav a{
      color: inherit;
      text-decoration: none;
      padding: 6px 10px;
      border-radius: 10px;
      font-weight: 700;
    }
    .top-nav a:hover{ background: rgba(0,0,0,0.06); }
    body{ padding-top: 64px; }
  </style></head>
<body>
  <nav class="top-nav">
    <a href="/">Home</a>
    <a href="/lotto">Lotto</a>
    <a href="/saju">Saju</a>
  </nav>
  <div class="wrap">
    <div class="card">
      <div class="header">
        <div class="badge" aria-hidden="true">??/div>
        <div>
          <h1>?ъ＜???/h1>
          <div class="sub">?앸뀈?붿씪/?쒓컙?쇰줈 ?ъ＜(?ㅽ뻾 以묒떖) ?먮굦???댁꽍??留뚮뱾?댁쨾</div>
        </div>
      </div>

      <div class="pillRow" style="margin-top:10px;">
        <span class="pill">?ㅽ뻾</span>
        <span class="pill">?쇨컙</span>
        <span class="pill">湲곗슫 諛몃윴??/span>
        <span class="pill">?쒖쨪 議곗뼵</span>
      </div>

      <div class="grid">
        <div>
          <label>?앸뀈?붿씪</label>
          <div class="field">
            <input id="date" type="date" />
          </div>
        </div>

        <div>
          <label>?щ젰 湲곗?</label>
          <div class="field">
            <select id="calendar">
              <option value="solar" selected>?묐젰</option>
              <option value="lunar">?뚮젰</option>
            </select>
          </div>
        </div>

        <div>
          <label>異쒖깮 ?쒓컙</label>
          <div class="field">
            <select id="hour">
              <option value="unknown" selected>紐⑤쫫</option>
              <option value="0">00????</option>
              <option value="1">01??/option>
              <option value="2">02??異?</option>
              <option value="3">03??/option>
              <option value="4">04????</option>
              <option value="5">05??/option>
              <option value="6">06??臾?</option>
              <option value="7">07??/option>
              <option value="8">08??吏?</option>
              <option value="9">09??/option>
              <option value="10">10????</option>
              <option value="11">11??/option>
              <option value="12">12????</option>
              <option value="13">13??/option>
              <option value="14">14??誘?</option>
              <option value="15">15??/option>
              <option value="16">16????</option>
              <option value="17">17??/option>
              <option value="18">18????</option>
              <option value="19">19??/option>
              <option value="20">20????</option>
              <option value="21">21??/option>
              <option value="22">22????</option>
              <option value="23">23??/option>
            </select>
          </div>
          <div class="small" style="margin-top:8px;">
            ??"紐⑤쫫" ?좏깮 ???쒓컙 ?붿냼???먮┸?섍쾶 泥섎━?댁꽌 寃곌낵瑜?蹂댁뿬以?
          </div>
        </div>

        <div>
          <label>?깅퀎(?좏깮)</label>
          <div class="field">
            <select id="gender">
              <option value="unknown" selected>?좏깮 ?덊븿</option>
              <option value="male">??/option>
              <option value="female">??/option>
            </select>
          </div>
          <div class="small" style="margin-top:8px;">
            ???깅퀎? ?쒗쁽 ???곷떞 ?ㅽ??쇱뿉留?李멸퀬.
          </div>
        </div>
      </div>

      <div class="row">
        <button class="primary" id="go">??댄빐以?</button>
        <button class="ghost" id="copy" disabled>蹂듭궗?섍린</button>
        <span class="status" id="status"></span>
      </div>

      <div class="result" id="result" style="display:none;">
        <h2>寃곌낵</h2>
        <div class="pillRow" id="pills"></div>

        <div class="table" style="margin-top:12px;">
          <div class="box">
            <div class="boxTitle">?듭떖 ?붿빟</div>
            <p id="summary"></p>
          </div>
          <div class="box">
            <div class="boxTitle">?ㅽ뻾 諛몃윴??/div>
            <p id="five"></p>
          </div>
          <div class="box">
            <div class="boxTitle">議곗뼵</div>
            <p id="advice"></p>
          </div>
          <div class="box">
            <div class="boxTitle">二쇱쓽臾멸뎄</div>
            <p class="small">蹂?寃곌낵???꾪넻 ?ъ＜ 紐낅━?숈쓣 ?됰궡 ??<b>李멸퀬???ㅻ씫??/b> ?띿뒪?몄엯?덈떎. 以묒슂??寃곗젙? ?꾨Ц媛 ?곷떞/蹂몄씤???먮떒???곗꽑?섏꽭??</p>
          </div>
        </div>
      </div>

      <div class="small" style="margin-top:14px;">
        ?낅젰媛믪? 釉뚮씪?곗? ?덉뿉?쒕쭔 泥섎━?섍퀬 ?쒕쾭濡??꾩넚?섏? ?딆쓬(?뺤쟻 ?섏씠吏).
      </div>
    </div>
  </div>

<script>
  // NOTE: This is a "real saju vibe" UI, but the actual ?ъ＜ 怨꾩궛(泥쒓컙/吏吏/?덇린/?뚮젰 蹂?????? 留ㅼ슦 蹂듭옟.
  // ?ш린?쒕뒗 ?ъ슜?먭? ?먰븳 ?먮굦(?ㅽ뻾/諛몃윴??議곗뼵)???덉쟾?섍쾶 "李멸퀬???쇰줈 ?앹꽦.

  const FIVE = [
    { k:'紐?, c:'#7de3d0', tips:['?깆옣','?뺤옣','?쒖옉','?좎뿰??] },
    { k:'??, c:'#ff7fb2', tips:['?댁젙','?쒗쁽','?띾룄','?섏슃'] },
    { k:'??, c:'#ffd86b', tips:['以묒떖','議곗쑉','梨낆엫','?덉젙'] },
    { k:'湲?, c:'#6aa8ff', tips:['?뺣━','寃곕떒','洹쒖튃','??湲뗪린'] },
    { k:'??, c:'#8b6cff', tips:['吏??,'愿李?,'?댁떇','源딆씠'] },
  ];

  function seededRand(seed){
    // xorshift32
    let x = seed >>> 0;
    return () => {
      x ^= x << 13; x >>>= 0;
      x ^= x >> 17; x >>>= 0;
      x ^= x << 5;  x >>>= 0;
      return (x >>> 0) / 4294967296;
    };
  }

  function hashStr(s){
    let h = 2166136261;
    for (let i=0;i<s.length;i++){
      h ^= s.charCodeAt(i);
      h = Math.imul(h, 16777619);
    }
    return h >>> 0;
  }

  function clamp(n,min,max){ return Math.max(min, Math.min(max,n)); }

  function makeFiveBalance(r){
    // produce 5 values that sum to 100-ish
    const raw = FIVE.map(()=> 0.6 + r()*1.4);
    const sum = raw.reduce((a,b)=>a+b,0);
    const vals = raw.map(v => Math.round((v/sum)*100));
    // fix rounding
    let diff = 100 - vals.reduce((a,b)=>a+b,0);
    while(diff !== 0){
      const i = Math.floor(r()*5);
      const next = vals[i] + (diff>0 ? 1 : -1);
      if(next>=0){ vals[i]=next; diff += (diff>0 ? -1 : 1); }
    }
    return vals;
  }

  function pickDominant(vals){
    let max=-1, idx=0;
    for(let i=0;i<vals.length;i++){ if(vals[i]>max){ max=vals[i]; idx=i; } }
    let min=999, jdx=0;
    for(let i=0;i<vals.length;i++){ if(vals[i]<min){ min=vals[i]; jdx=i; } }
    return { strong: FIVE[idx].k, weak: FIVE[jdx].k, strongIdx: idx, weakIdx: jdx };
  }

  function dayStemLike(seed){
    // 泥쒓컙 ?먮굦留?(?뺥솗 怨꾩궛 ?꾨떂)
    const stems = ['媛?,'??,'蹂?,'??,'臾?,'湲?,'寃?,'??,'??,'怨?];
    return stems[seed % stems.length];
  }

  function buildText({dateStr, cal, hour, gender}){
    const seed = hashStr([dateStr, cal, hour, gender].join('|'));
    const r = seededRand(seed);

    const vals = makeFiveBalance(r);
    const dom = pickDominant(vals);
    const dayStem = dayStemLike(seed);

    const hourKnown = hour !== 'unknown';

    const tone = (gender === 'male') ? '?? : (gender === 'female') ? '?꾨굹/?몃땲' : '??;

    const summary = `?쇨컙(?먮굦)? ${dayStem}濡??≫엳怨? ?꾩껜 湲곗슫? ${dom.strong} 履쎌씠 ??媛뺥븯寃??먮Ⅴ???몄씠?? `
      + (hourKnown ? `異쒖깮?쒓컙 ?뺣낫媛 ?덉뼱???뷀뀒?쇱쓣 議곌툑 ???몃??섍쾶 ?≪븯??` : `異쒖깮?쒓컙???놁뼱?????먮쫫 ?꾩＜濡쒕쭔 遊ㅼ뼱.`);

    const five = `紐?${vals[0]} 쨌 ??${vals[1]} 쨌 ??${vals[2]} 쨌 湲?${vals[3]} 쨌 ??${vals[4]} (??100)
媛뺥븳 湲곗슫: ${dom.strong} / ?쏀븳 湲곗슫: ${dom.weak}`;

    const adviceA = `${dom.strong} 湲곗슫??媛뺥븷 ?뚮뒗 異붿쭊??鍮⑤씪吏湲??ъ썙. 洹몃옒??"?앸㎈?????섏떇?곸쑝濡?梨숆린??寃??댁쓣 ?덉젙?쒖폒.`;
    const adviceB = `${dom.weak} 湲곗슫???쏀븯硫?洹몄そ ?붿냼瑜?蹂댁셿?섎뒗 猷⑦떞??醫뗭븘. ?덈? ?ㅻ㈃ ${FIVE[dom.weakIdx].tips.slice(0,2).join('쨌')} 履??듦????쇱긽??遺숈뿬遊?`;
    const adviceC = `?쒖쨪 議곗뼵: ?ㅻ뒛? ${tone}???섏씠?ㅻ? 吏?ㅻ뒗 寃??쒖씪 ??媛쒖슫 ?ъ씤??`;

    const pills = [
      `?쇨컙(?먮굦): ${dayStem}`,
      `媛? ${dom.strong}`,
      `?? ${dom.weak}`,
      hourKnown ? '?쒓컙: 諛섏쁺' : '?쒓컙: 誘몃컲??
    ];

    return { summary, five, advice: `${adviceA}\n${adviceB}\n${adviceC}`, pills };
  }

  const $ = (id) => document.getElementById(id);

  $('go').onclick = () => {
    const dateStr = $('date').value;
    if(!dateStr){
      $('status').textContent = '?앸뀈?붿씪???좏깮?댁쨾!';
      return;
    }

    const cal = $('calendar').value;
    const hour = $('hour').value;
    const gender = $('gender').value;

    const out = buildText({dateStr, cal, hour, gender});

    $('result').style.display = 'block';
    $('summary').textContent = out.summary;
    $('five').textContent = out.five;
    $('advice').textContent = out.advice;

    const pillsEl = $('pills');
    pillsEl.innerHTML = '';
    out.pills.forEach(t => {
      const s = document.createElement('span');
      s.className = 'pill';
      s.textContent = t;
      pillsEl.appendChild(s);
    });

    const copyText = `?ъ＜???李멸퀬??\n- ?앸뀈?붿씪: ${dateStr} (${cal==='solar'?'?묐젰':'?뚮젰'})\n- 異쒖깮?쒓컙: ${hour==='unknown'?'紐⑤쫫':hour+'??}\n\n[?붿빟]\n${out.summary}\n\n[?ㅽ뻾]\n${out.five}\n\n[議곗뼵]\n${out.advice}\n\n[二쇱쓽]\n蹂?寃곌낵??李멸퀬???ㅻ씫?⑹씠硫?以묒슂??寃곗젙? ?꾨Ц媛 ?곷떞/蹂몄씤 ?먮떒???곗꽑?섏꽭??`;

    $('copy').disabled = false;
    $('copy').onclick = async () => {
      await navigator.clipboard.writeText(copyText);
      $('status').textContent = '蹂듭궗??';
      setTimeout(()=> $('status').textContent='', 1200);
    };

    $('status').textContent = '';
  };
</script>
</body>
</html>
